@using FileStorageSys.Models
@model FileResponseModel


@if (TempData["Message"] != null)
{
    <div class="alert alert-success alert-dismissible" style="margin-top:20px">
        @TempData["Message"]
    </div>
}
@if (TempData["Error"] != null)
{
    <div class="alert alert-danger alert-dismissible" style="margin-top:20px">
        @TempData["Error"]
    </div>
}
<hr />
<h4>Upload Files in Storage Area</h4>
<br />




<form name="FormFiles" asp-action="Upload" method="post" enctype="multipart/form-data">
    <label for="fileInput">Choose a file:</label>
    <input id="fileInput" type="file" name="file" accept=".txt" required />
    <button type="submit" class="btn btn-primary"> Upload  </button>
</form>
<br />
<hr />
<h4>Retrieve File from Storage Area Using File ID</h4>
<br />
<div>
    <form asp-action="GetFileData" method="post">
        <label for="fileId">File ID:</label>
        <input id="fileId" name="FileId" type="text" required />
        <button type="submit" class="btn btn-success">Get File Data</button>
    </form>
</div>
<hr />
@if (Model == null)
{
}
else
@if (Model.Id == null)
{
    <caption>File Not Found</caption>
}
else
{

    <caption>File Details</caption>
    <table class="table table-striped">
        <thead>
            <tr>
                <th>ID</th>
                <th>@Model.Id</th>
            </tr>
            <tr>
                <th>Data </th>
                <td>
                    @Model.Data
                </td>
            </tr>
            <tr>
                <th>SIZE</th>
                <td>
                    @Model.Size
                </td>
            </tr>
            <tr>
                <th>CREATE AT</th>
                <td>
                    @Model.Created_at
                </td>
            </tr>


        </thead>


    </table>
}
